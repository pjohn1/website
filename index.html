<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phillip Johnson Profile</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        #game {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background-color: burlywood;
            background-size: 64px 64px;
        }
        #player {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: transparent; 
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-image: url('pj_as_sprite.png');
            background-size: cover;
        }
        .portal {
            position: absolute;
            width: 100px;
            height: 100px;
            background-color: transparent;
            background-image: url('portal.gif');
            background-size: cover;
        }
        #toolbox {
            position: absolute;
            width: 32px;
            height: 32px;
            background-color: transparent; 
            top: 50%;
            right: 50%;
            transform: translate(-50%, -50%);
            background-image: url('toolbox.png');
            background-size: cover;
        }
        #chest {
            position: absolute;
            width: 32px;
            height: 32px;
            background-color: transparent; 
            bottom: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-image: url('chest.png');
            background-size: cover;
        }
        #portal1 {
            top: 50%;
        }
        #portal2 {
            bottom: 50%;
        }
        #portal3{
            right: 50%;
        }
        #portal4{
            left: 50%;
        }
    </style>
</head>
<body>

    <div id="game">
        <div id="player"></div>
        <div id="portal1" class="portal" data-url="page1.html"></div>
        <div id="portal2" class="portal" data-url="page2.html"></div>
        <div id="portal3" class="portal" data-url="page3.html"></div>
        <div id="portal4" class="portal" data-url="page4.html"></div>
        <div id="toolbox" data-url="#toolbox"></div>
        <div id="chest" data-url="#chest"></div>
    </div>

    <script>
        // Player movement logic with continuous movement and smooth scrolling background
        const player = document.getElementById('player');
        const game = document.getElementById('game');
        const playerSpeed = 2; // Lower speed for smooth movement

        let playerX = game.clientWidth / 2 - player.clientWidth / 2;
        let playerY = game.clientHeight / 2 - player.clientHeight / 2;
        let keysPressed = {};

        // Track key presses
        document.addEventListener('keydown', function (event) {
            keysPressed[event.key] = true;
        });

        document.addEventListener('keyup', function (event) {
            keysPressed[event.key] = false;
        });

        function movePlayer() {
            if (keysPressed['ArrowUp']) playerY -= playerSpeed;
            if (keysPressed['ArrowDown']) playerY += playerSpeed;
            if (keysPressed['ArrowLeft']) playerX -= playerSpeed;
            if (keysPressed['ArrowRight']) playerX += playerSpeed;

            // Update player position
            player.style.top = playerY + 'px';
            player.style.left = playerX + 'px';

            // Update the background to scroll with the player
            game.style.backgroundPositionX = `${-playerX / 2}px`;
            game.style.backgroundPositionY = `${-playerY / 2}px`;

            checkPortals();
        }

        function checkPortals() {
            const portals = document.querySelectorAll('.portal');
            portals.forEach(portal => {
                const portalRect = portal.getBoundingClientRect();
                const playerRect = player.getBoundingClientRect();

                if (
                    playerRect.left < portalRect.right &&
                    playerRect.right > portalRect.left &&
                    playerRect.top < portalRect.bottom &&
                    playerRect.bottom > portalRect.top
                ) {
                    window.location.href = portal.dataset.url; // Navigate to the next page
                }
            });
        }

        // Continuously move the player and update the game
        function gameLoop() {
            movePlayer();
            requestAnimationFrame(gameLoop);
        }

        // Start the game loop
        gameLoop();
    </script>

</body>
</html>
