<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phillip Johnson Profile</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            background-image: url('leadership_back.png');
            background-size: contain;
            background-repeat: repeat;
            background-position: center;
            background-attachment: fixed;
            position: relative;
        }
        #game {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background-image: url('leadership_background.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            background-attachment: fixed;
            z-index: 1;
        }
        #player {
            position: absolute;
            width: 51px;
            height: 81px;
            background-color: transparent; 
            bottom: 10%;
            left: 1%;
            background-image: url('pj_as_sprite.png');
            background-size: cover;
        }
        .portal {
            position: absolute;
            width: 6vw;
            height: 13vh;
            left: 0%;
            bottom: 40%;
            background-color: transparent;
            background-image: url('portal.gif');
            background-size: cover;
        }
    </style>
</head>
<body>

    <div id="game">
        <div id="player"></div>
        <div id="portal" class="portal" data-url="index.html"></div>
    </div>

    <script>
        // Player movement logic with continuous movement and smooth scrolling background
        const player = document.getElementById('player');
        const game = document.getElementById('game');
        const playerSpeed = 2; // Lower speed for smooth movement

        let playerX = game.clientWidth / 2 - player.clientWidth / 2;
        let playerY = game.clientHeight / 2 - player.clientHeight / 2;
        let keysPressed = {};

        // Track key presses
        document.addEventListener('keydown', function (event) {
            keysPressed[event.key] = true;
        });

        document.addEventListener('keyup', function (event) {
            keysPressed[event.key] = false;
        });

        function movePlayer() {
            if (keysPressed['w']) playerY -= playerSpeed;
            if (keysPressed['s']) playerY += playerSpeed;
            if (keysPressed['a']) playerX -= playerSpeed;
            if (keysPressed['d']) playerX += playerSpeed;

            // Update player position
            player.style.top = playerY + 'px';
            player.style.left = playerX + 'px';

            checkPortals();
        }

        function checkPortals() {
            const portals = document.querySelector('.portal');
            const portalRect = portal.getBoundingClientRect();
            const playerRect = player.getBoundingClientRect();

            if (
                playerRect.left < portalRect.right &&
                playerRect.right > portalRect.left &&
                playerRect.top < portalRect.bottom &&
                playerRect.bottom > portalRect.top
            ) {
                window.location.href = portal.dataset.url; // Navigate to the next page
            }
        }

        // Continuously move the player and update the game
        function gameLoop() {
            movePlayer();
            requestAnimationFrame(gameLoop);
        }

        // Start the game loop
        gameLoop();
    </script>

</body>
</html>
